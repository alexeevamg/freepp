function initializePhoneInput(e,t){var n,i=intlTelInput(e,{preferredCountries:["ru","by","kz"],customPlaceholder:function(e,t){return"ru"===t.iso2?"Телефон":e},initialCountry:"auto",geoIpLookup:function(e){$.get("https://ipinfo.io",function(){},"jsonp").always(function(t){e(t&&t.country?t.country:"ru")})},utilsScript:"../../build/js/utils.js?1613236686837"});e.onfocus=function(){var r,s,a;r=i.getSelectedCountryData().iso2.toUpperCase(),s=e,a={mask:region.find(e=>e.cc===r).mask},n&&n.destroy(),n=IMask(s,a),e.addEventListener("input",function(){var n=e.value.replace(/\D/g,"");document.getElementById(t).value="+"+n})},e.addEventListener("blur",function(){if(e.classList.remove("error"),errorMsg.innerHTML="",errorMsg.classList.add("hide"),validMsg.classList.add("hide"),e.value.trim()){if(i.isValidNumber())validMsg.classList.remove("hide");else{e.classList.add("error");var t=i.getValidationError();errorMsg.innerHTML=errorMap[t],errorMsg.classList.remove("hide")}}}),e.addEventListener("change",function(){e.classList.remove("error"),errorMsg.innerHTML="",errorMsg.classList.add("hide"),validMsg.classList.add("hide")}),e.addEventListener("keyup",function(){e.classList.remove("error"),errorMsg.innerHTML="",errorMsg.classList.add("hide"),validMsg.classList.add("hide")})}function checkPhoneLength(e){return e.value.replace(/\D/g,"").length<11?(e.setCustomValidity("Заполните это поле"),!1):(e.setCustomValidity(""),!0)}function mask1(){document.querySelectorAll(".phone-input").forEach(function(e){var t=e.getAttribute("data-clear-number-id");initializePhoneInput(e,t),e.addEventListener("blur",function(){checkPhoneLength(e)}),$(e.form).submit(function(t){checkPhoneLength(e)||t.preventDefault()})})}function launch(){mask1()}launch();
